{
	"name": "typesafe-i18n",
	"description": "Provides type-safe internationalization for Svelte and other frameworks.",
	"repo_url": "https://github.com/ivanhofer/typesafe-i18n",
	"authors": ["ivanhofer"],
	"homepage": "https://github.com/ivanhofer/typesafe-i18n",
	"downloads": 24232,
	"updated": "2023-08-25T07:58:11.071Z",
	"tags": ["integration"],
	"github_stars": 2317,
	"typescript": true,
	"version": "5.26.2",
	"last_rune_check_version": "5.26.2",
	"dependency_tree": {
		"rootIndex": 0,
		"packages": [
			{
				"name": "typesafe-i18n",
				"version": "5.26.2",
				"size": 2860023
			}
		],
		"dependencies": [],
		"circular": []
	},
	"readme": "# :earth_africa: typesafe-i18n\n\n**A fully type-safe and lightweight internationalization library for all your TypeScript and JavaScript projects.**\n\n<img src=\"https://raw.githubusercontent.com/ivanhofer/typesafe-i18n/main/assets/typesafe-i18n-demo.gif\" width=\"100%\">\n\n[![npm version](https://badgen.net/npm/v/typesafe-i18n)](https://www.npmjs.com/package/typesafe-i18n)\n![GitHub Top Language](https://img.shields.io/github/languages/top/ivanhofer/typesafe-i18n)\n[![bundle size](https://badgen.net/bundlephobia/minzip/typesafe-i18n)](https://github.com/ivanhofer/typesafe-i18n#sizes)\n![types included](https://badgen.net/npm/types/typesafe-i18n)\n[![bump version & publish to npm](https://github.com/ivanhofer/typesafe-i18n/actions/workflows/release.yml/badge.svg?branch=main)](https://github.com/ivanhofer/typesafe-i18n/actions/workflows/release.yml)\n[![Generic badge](https://img.shields.io/badge/discord-support-slateblue.svg)](https://discord.gg/T27AHfaADK)\n[![Sponsor this project](https://img.shields.io/static/v1?label=Sponsor&message=%E2%9D%A4&logo=GitHub&link=https://github.com/sponsors/ivanhofer)](https://github.com/sponsors/ivanhofer)\n\n\n## Advantages\n\n:baby_chick: [lightweight](#sizes) (~1kb)\\\n:ok_hand: [easy to use syntax](https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/runtime#syntax)\\\n:running: [fast and efficient](#performance)\\\n:safety_vest: [prevents you from making mistakes](#typesafety) (also in [plain JavaScript projects](https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/generator#jsdoc))\\\n:construction_worker: [creates boilerplate code](https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/generator#folder-structure) for you\\\n:speech_balloon: [supports plural rules](https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/runtime#plural)\\\n:date: allows [formatting of values](https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/formatters) e.g. locale-dependent date or number formats\\\n:left_right_arrow: supports [switch-case statements](https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/runtime#switch-case) e.g. for gender-specific output\\\n:arrow_down: option for [asynchronous loading of locales](https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/generator#asynchronous-loading-of-locales)\\\n:books: supports multiple [namespaces](https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/generator#namespaces)\\\n:stopwatch: supports SSR (Server-Side Rendering)\\\n:handshake: can be used for [frontend, backend and API](#usage) projects\\\n:mag: [locale-detection](https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/detectors) for browser and server environments\\\n:arrows_counterclockwise: [import](https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/importer) and [export](https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/exporter) translations from/to files or services\\\n:no_entry: no external dependencies\n\n<!-- list of supported emojis on GitHub: https://github.com/ikatyang/emoji-cheat-sheet -->\n\n### Interactive Live Demo\n\nClick [here](https://codesandbox.io/s/typesafe-i18n-demo-qntgqy?file=/index.ts) to see an interactive demo of `typesafe-i18n` showing some key aspects of the type-checking capabilities of this internationalization library.\n\n### Works with\n\n<div align=\"center\">\n   <a title=\"TypeScript\" href=\"#usage\">\n      <img src=\"https://raw.githubusercontent.com/ivanhofer/typesafe-i18n/main/assets/icons/typescript.svg\" height=\"70\" hspace=\"10\">\n   </a>\n   <a title=\"Svelte\" href=\"https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/adapter-svelte\">\n      <img src=\"https://raw.githubusercontent.com/ivanhofer/typesafe-i18n/main/assets/icons/svelte.svg\" height=\"70\" hspace=\"10\">\n   </a>\n   <a title=\"React\" href=\"https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/adapter-react\">\n      <img src=\"https://raw.githubusercontent.com/ivanhofer/typesafe-i18n/main/assets/icons/react.svg\" height=\"70\" hspace=\"10\">\n   </a>\n   <a title=\"Vue.js\" href=\"https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/adapter-vue\">\n      <img src=\"https://raw.githubusercontent.com/ivanhofer/typesafe-i18n/main/assets/icons/vuejs.svg\" height=\"70\" hspace=\"10\">\n   </a>\n   <a title=\"Angular\" href=\"https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/adapter-angular\">\n      <img src=\"https://raw.githubusercontent.com/ivanhofer/typesafe-i18n/main/assets/icons/angular.svg\" height=\"70\" hspace=\"10\">\n   </a>\n   <a title=\"SolidJS\" href=\"https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/adapter-solid\">\n      <img src=\"https://raw.githubusercontent.com/ivanhofer/typesafe-i18n/main/assets/icons/solidjs.svg\" height=\"70\" hspace=\"10\">\n   </a>\n   <a title=\"Node.js\" href=\"https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/adapter-node\">\n      <img src=\"https://raw.githubusercontent.com/ivanhofer/typesafe-i18n/main/assets/icons/nodejs.svg\" height=\"70\" hspace=\"10\">\n   </a>\n   <a title=\"JavaScript\" href=\"#usage\">\n      <img src=\"https://raw.githubusercontent.com/ivanhofer/typesafe-i18n/main/assets/icons/javascript.svg\" height=\"70\" hspace=\"10\">\n   </a>\n</div>\n\n<!-- ------------------------------------------------------------------------------------------ -->\n<!-- ------------------------------------------------------------------------------------------ -->\n<!-- ------------------------------------------------------------------------------------------ -->\n\n## Table of Contents\n\n- [**Get started**](#get-started) - how to add `typesafe-i18n` to your project\n- [**Usage**](#usage) - how to implement different use-cases\n- [**Typesafety**](#typesafety) - how to get the best typesafety features\n- [**Syntax**](https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/runtime#syntax) - how to use the translation functions\n- [**Dictionary**](https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/runtime#dictionary) - how to structure your translations\n- [**Namespaces**](https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/generator#namespaces) - how to optimize loading of your translations\n- [**Formatters**](https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/formatters) - how to format dates and numbers\n- [**Switch-Case**](https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/runtime#switch-case) - how to output different words depending on an argument\n- [**Locale-detection**](https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/detectors) - how to detect an user's locale\n- [**Utility functions**](https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/utils) - useful utility functions\n- [**Integrations**](#integration-with-other-services) - how to integrate other i18n services\n- [**Sizes**](#sizes) - how much does `typesafe-i18n` add to your bundle size\n- [**Performance**](#performance) - how efficient is `typesafe-i18n` implemented\n- [**Sponsors**](#sponsors) - how to help this project grow\n- [**FAQs**](#faqs) - how to get your questions answered\n\n\n<!-- ------------------------------------------------------------------------------------------ -->\n<!-- ------------------------------------------------------------------------------------------ -->\n<!-- ------------------------------------------------------------------------------------------ -->\n\n## Get started\n\n1. :keyboard: Run the setup process and **automatically detect** the config needed\n   ```bash\n   npx typesafe-i18n --setup-auto\n   ```\n   or **manually configure** `typesafe-i18n` by answering a few questions\n   ```bash\n   npx typesafe-i18n --setup\n   ```\n   > It didn't work? See [here](#installing-typesafe-i18n-fails) for possible troubleshooting.\n\n2. :eyes: Take a look at the generated files and it's [folder-structure](https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/generator#folder-structure) after running `npm run typesafe-i18n` (or `npx typesafe-i18n`)\n\n3. :open_book: Explore the assets\n   > `typesafe-i18n` offers a lot. Just press `cmd + F` to search on this page or see the [table of contents](#table-of-contents) that will link you to more specific subpages with more details.\n\n4. :star: Star this project on [GitHub](https://github.com/ivanhofer/typesafe-i18n)\n   > Thanks! This helps the project to grow.\n\n\\\n*Having trouble setting up `typesafe-i18n`? Reach out to us via [Github Discussions](https://github.com/ivanhofer/typesafe-i18n/discussions) or on [Discord](https://discord.gg/T27AHfaADK).*\n\n\n### manual installation\n\n```bash\nnpm install typesafe-i18n\n```\n\n### changelog\n\nThe changelog of this project can be found [here](https://github.com/ivanhofer/typesafe-i18n/blob/main/CHANGELOG.md)\n\n#### migrations\n\n - to version `5.x.x`: see the [`release post`](https://github.com/ivanhofer/typesafe-i18n/discussions/227)\n - to version `4.x.x`: see the [`release post`](https://github.com/ivanhofer/typesafe-i18n/discussions/169)\n - to version `3.x.x`: see the [`release post`](https://github.com/ivanhofer/typesafe-i18n/discussions/163)\n\n### Long-term goals\n\nCurious about what comes next? See [this discussion](https://github.com/ivanhofer/typesafe-i18n/discussions/324) to learn more about the plans for the future of this project.\n\n#### Contributions\n\nIf you would like to get involved within this project, take a look at this [discussion](https://github.com/ivanhofer/typesafe-i18n/discussions/323).\n\n<!-- ------------------------------------------------------------------------------------------ -->\n<!-- ------------------------------------------------------------------------------------------ -->\n<!-- ------------------------------------------------------------------------------------------ -->\n\n## Usage\n\n> The package can be used inside JavaScript and TypeScript applications. You will get a lot of benefits by running the [generator](https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/generator#generator) since it will create a few wrappers to provide you with full typesafety.\n\nYou can use `typesafe-i18n` in a variety of project-setups:\n\n - [Angular](https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/adapter-angular) applications\n - [Node.js](https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/adapter-node) apis, backends, scripts, ...\n - [React / Next.js](https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/adapter-react) applications\n - [Solid.js](https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/adapter-solid) applications\n - [Svelte / SvelteKit / Sapper](https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/adapter-svelte) applications\n - [Vue.js / Nuxt.js](https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/adapter-vue) applications\n - [Browser (via CDN)](https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/browser/example) projects\n - [other frameworks](#other-frameworks)\n\n### Other frameworks\n\nAll you need is inside the [generated](https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/generator#folder-structure) file `i18n-util.ts`. You can use the functions in there to create a small wrapper for your application.\n\n> Feel free to open a new [discussion](https://github.com/ivanhofer/typesafe-i18n/discussions) if you need a guide for a specific framework.\n\n\n### Custom usage\n\nSee [here](https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/runtime#usage) if you want to learn how you can use `typesafe-i18n` to implement your own specific use-case.\n\n\n### Browser Support\n\nThe library should work in all **modern browsers**. It uses some functionality from the [`Intl` namespace](https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Global_Objects/Intl). You can see the list of supported browsers [here](https://caniuse.com/intl-pluralrules). If you want to support older browsers that don't include these functions, you would need to include a polyfill like [intl-pluralrules](https://formatjs.io/docs/polyfills/intl-pluralrules/).\n\n<!-- ------------------------------------------------------------------------------------------ -->\n<!-- ------------------------------------------------------------------------------------------ -->\n<!-- ------------------------------------------------------------------------------------------ -->\n\n## Typesafety\n\nIf you want to get the best typesafety features, you will need to use the [`generator`](https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/generator#generator) in order to create types and boilerplate code for you\n\nHere you can see some examples where `typesafe-i18n` can help you:\n\n#### typesafe auto-completion for all your defined locales\n![typesafe locales completion](https://raw.githubusercontent.com/ivanhofer/typesafe-i18n/main/assets/01_typesafe-locales-completion.png)\n\n#### typesafe auto-completion for all available translations\n![typesafe translation key completion](https://raw.githubusercontent.com/ivanhofer/typesafe-i18n/main/assets/02_typesafe-key-completion.png)\n\n#### you will get an error if you forget to pass arguments\n![typesafe number of arguments](https://raw.githubusercontent.com/ivanhofer/typesafe-i18n/main/assets/03_typesafe-nr-of-arguments.png)\n\n#### you will get an error if you pass the wrong type arguments\n![typesafe arguments 1](https://raw.githubusercontent.com/ivanhofer/typesafe-i18n/main/assets/04_typesafe-arguments.png)\n![typesafe arguments 2](https://raw.githubusercontent.com/ivanhofer/typesafe-i18n/main/assets/04_typesafe-arguments-2.png)\n\n#### you will get an error if you forgot to add a translation in a locale\n![typesafe keys in translations](https://raw.githubusercontent.com/ivanhofer/typesafe-i18n/main/assets/05_typesafe-keys-in-translations.png)\n\n#### you will get an error when a translation is missing an argument\n![typesafe arguments in translation](https://raw.githubusercontent.com/ivanhofer/typesafe-i18n/main/assets/06_typesafe-arguments-in-translation.png)\n\n\nThe `typesafe-i18n` package allows us to be 100% typesafe for our translation functions and even the translations for other locales itself. The [`generator`](https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/generator#generator) outputs TypeScript definitions based on your base locale.\n\n> You will also benefit from full typesafe JavaScript code via [JSDoc-annotations](https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/generator#jsdoc).\n\n<!-- ------------------------------------------------------------------------------------------ -->\n<!-- ------------------------------------------------------------------------------------------ -->\n<!-- ------------------------------------------------------------------------------------------ -->\n\n## Integration with other services\n\n`typesafe-i18n` comes with an API that allows other services to read and update translations. You can connect other services by using the [`importer`](https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/importer) and [`exporter`](https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/exporter) functionality.\n\nThere also exists an official plugin for [Inlang](https://inlang.com/). It allows you to use `typesafe-i18n` together with the tooling Inlang provides. You can find it [here](https://github.com/ivanhofer/inlang-plugin-typesafe-i18n).\n\n<!-- ------------------------------------------------------------------------------------------ -->\n<!-- ------------------------------------------------------------------------------------------ -->\n<!-- ------------------------------------------------------------------------------------------ -->\n\n## Sizes\n\nThe footprint of the `typesafe-i18n` package is smaller compared to other existing i18n packages. Most of the magic happens in development mode, where the generator creates TypeScript definitions for your translations. This means, you don't have to ship the whole package to your users. The only two parts, that are needed in production are:\n\n- string-parser: detects variables, formatters and plural-rules in your localized strings\n- translation function: injects arguments, formats them and finds the correct plural form for the given arguments\n\nThese parts are bundled into the [core functions](https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/runtime#usage). The sizes of the core functionalities are:\n\n- [i18nString](https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/runtime#i18nString): 948 bytes gzipped\n- [i18nObject](https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/runtime#i18nObject): 1089 bytes gzipped\n- [i18n](https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/runtime#i18n): 1119 bytes gzipped\n\nApart from that there can be a small overhead depending on which utilities and wrappers you use.\n\nThere also exists a useful wrapper for some frameworks:\n- [`typesafe-i18n` angular-service](https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/adapter-angular): 1230 bytes gzipped\n- [`typesafe-i18n` react-context](https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/adapter-react): 1602 bytes gzipped\n- [`typesafe-i18n` solid-context](https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/adapter-solid): 1403 bytes gzipped\n- [`typesafe-i18n` svelte-store](https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/adapter-svelte): 1342 bytes gzipped\n- [`typesafe-i18n` vue-plugin](https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/adapter-vue): 1256 bytes gzipped\n\n\n<!-- ------------------------------------------------------------------------------------------ -->\n<!-- ------------------------------------------------------------------------------------------ -->\n<!-- ------------------------------------------------------------------------------------------ -->\n\n## Performance\n\nThe package was optimized for performance:\n - **the amount of network traffic is kept small**\\\n   The translation functions are [small](#sizes). Only the locales that are used are [loaded](https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/generator#asynchronous-loading-of-locales)\n - **no unnecessary workload**\\\n   Parsing your translation file for variables and formatters will only be performed when you access a translation for the first time. The result of that parsing process will be stored in an optimized object and kept in memory.\n - **fast translations**\\\n\tPassing variables to the [translation function](#usage) will be fast, because its treated like a simple string concatenation. For formatting values, a single function is called per [formatter](https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/formatters).\n\nIf you use `typesafe-i18n` you will get a smaller bundle compared to other i18n solutions. But that doesn't mean, we should stop there. There are some possible optimizations planned to [decrease the bundle size even further](https://github.com/ivanhofer/typesafe-i18n/discussions/89).\n\n<!-- ------------------------------------------------------------------------------------------ -->\n<!-- ------------------------------------------------------------------------------------------ -->\n<!-- ------------------------------------------------------------------------------------------ -->\n\n## Sponsors\n\n[Become a sponsor :heart:](https://github.com/sponsors/ivanhofer) if you want to support my open source contributions.\n\n<p align=\"center\">\n   <a href=\"https://cdn.jsdelivr.net/gh/ivanhofer/sponsors/sponsorkit/sponsors.svg\" title=\"ivanhofer's sponsors\">\n      <img src=\"https://cdn.jsdelivr.net/gh/ivanhofer/sponsors/sponsorkit/sponsors.svg\" alt=\"ivanhofer's sponsors\" />\n   </a>\n</p>\n\n<p align=\"center\">\n   Thanks for sponsoring my open source work!\n</p>\n\n<!-- ------------------------------------------------------------------------------------------ -->\n<!-- ------------------------------------------------------------------------------------------ -->\n<!-- ------------------------------------------------------------------------------------------ -->\n\n## FAQs\n\n---\nDou you still have some questions? Reach out to us via [Github Discussions](https://github.com/ivanhofer/typesafe-i18n/discussions) or on [Discord](https://discord.gg/T27AHfaADK).\n\n---\n### Calling `LL.key()` renders an empty string\n\nYou probably forgot to [load the locale](https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/generator#loading-locales) first before using it. Calling `loadLocaleAsync('en')` or `loadAllLocales()` will fix it.\n\n---\n### Installing `typesafe-i18n` fails\n\nRunning the `npx` command with a `npm` version `<7.0.0` will probably fail because it [**will not include** `peerDependencies`](https://github.blog/2020-10-13-presenting-v7-0-0-of-the-npm-cli).\n\nYou could try installing it locally via:\n\n```bash\nnpm install typesafe-i18n\n```\n\nand then run  the setup-command from within the `node_modules` folder via:\n\n```bash\n./node_modules/typesafe-i18n/cli/typesafe-i18n.mjs --setup-auto\n```\n\n> here is the original issue with some additional information: [#142](https://github.com/ivanhofer/typesafe-i18n/issues/142)\n\n---\n### I added a new translation to my locale file, but TypeScript gives me the Error `Property 'XYZ' does not exist on type 'TranslationFunctions'`\n\nMake sure to run the [generator](https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/generator#generator) after you make changes to your base translation file. The generator will [generate and update the types](https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/generator#folder-structure) for you.\n\n---\n### I don't use TypeScript, can I also use `typesafe-i18n` inside JavaScript applications?\n\nYes, you can. See the [usage](https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/runtime#usage) section for instructions. Even if you don't use TypeScript you can still improve from some typesafety features via [JSDoc-annotations](https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/generator#jsdoc).\n\n---\n### I added a new translation to my locale file, but the generator will not create new types\n\nThe [generator](https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/generator#generator) will only look for changes in your base locale file. Make sure to always update your base locale file first, in order to get the correct auto-generated types. If you want to [change your base locale file](https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/generator#baselocale), make sure to give it the type of `BaseTranslation`. All other locales should have the type of `Translation`. E.g. if you set your base locale to italian, you would need to do it like this:\n\n - set your base locale to italian (`it`) in Â´.typesafe-i18n.json`:\n   ```json\n   {\n      \"baseLocale\": \"it\"\n   }\n   ```\n\n - define the type of your base locale as `BaseTranslation`\n   ```typescript\n   // file 'src/i18n/it/index.ts'\n   import type { BaseTranslation } from '../i18n-types'\n\n   const it: BaseTranslation = {\n      WELCOME: \"Benvenuto!\"\n   }\n\n   export default it\n   ```\n\n - define the type of your other locales as `Translation`\n   ```typescript\n   // file 'src/i18n/en/index.ts'\n   import type { Translation } from '../i18n-types'\n\n   const en: Translation = {\n      WELCOME: \"Welcome!\"\n   }\n\n   export default en\n   ```\n\n---\n### The generator keeps overriding my changes I make to the i18n-files\n\nThe [generator](https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/generator#generator) creates some helpful wrappers for you. If you want to write your own wrappers, you can disable the generation of these files by setting the [`generateOnlyTypes`](https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/generator#generateonlytypes) option to `true`.\n\n---\n### Is `typesafe-i18n` supported by `i18n-ally`?\n\nYes, you can configure `i18n-ally` like [this](https://github.com/lokalise/i18n-ally/issues/678#issuecomment-947338325). There is currently also an open [`PR`](https://github.com/lokalise/i18n-ally/pull/681) that will add official support for `typesafe-i18n`.\n\n---\n### How can I access a translation dynamically?\n\nWhen you want to dynamically access a translation, you can use the usual JavaScript syntax to access a property via a variable (`myObject[myVariable]`).\n\n1. define your translations\n```ts\n// i18n/en.ts\nimport type { BaseTranslation } from '../i18n-types'\n\nconst en: BaseTranslation = {\n   category: {\n      simple: {\n         title: 'Simple title',\n         description: 'I am a description for the \"simple\" category',\n      },\n      advanced: {\n         title: 'Advanced title',\n         description: 'I am a description for the \"advanced\" category',\n      }\n   }\n}\n\nexport default en\n```\n\n2. use it in your components\n\n```html\n<script lang=\"ts\">\n   // Component.svelte\n\n   import LL from '$i18n/i18n-svelte'\n   import type { Translation } from '$i18n/i18n-types'\n\n   // ! do not type it as `string`\n   // by restricting the type, you don't loose the typesafety features\n   export let category: keyof Translation['category'] = 'simple'\n</script>\n\n<h2>{$LL.category[category].title()}\n\n<p>\n   {$LL.category[category].description()}\n<p>\n```\n\n---\n\n### How can I have translated validation messages?\n\nValidation libraries like `zod`, `yup`, `joi` etc. usually provide a way to define custom error messages. You can use `typesafe-i18n` to translate these messages.\n\nBut you need to create the validation schema dynamically, after you have initialized the `LL` object ([]`i18nObject`](https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/runtime#i18nObject)).\n\nYou can do that like this by passing the `LL` object to a function that returns the validation schema:\n\n```ts\nimport { z } from 'zod'\nimport type { TranslationFunctions } from './i18n/i18n-types'\n\nexport const createLoginSchema = (LL: TranslationFunctions) => z.object({\n    email: z.string().min(1, LL.validation.emptyField()).email(LL.validation.invalidEmail()),\n    password: z.string().min(1, LL.validation.emptyField()),\n})\n```\n\n---\n\n### How do I render a component inside a Translation?\n\nBy default `typesafe-i18n` at this time does not provide such a functionality. Basically you will need to write a function that splits the translated message and renders a component between the parts. You can define your split characters yourself but you would always need to make sure you add them in any translation since `typesafe-i18n` doesn't provide any typesafety for these characters (yet).\n\n - [example for `react`](https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/adapter-react#how-do-i-render-a-component-inside-a-translation)\n - [example for `svelte`](https://github.com/ivanhofer/typesafe-i18n/tree/main/packages/adapter-svelte#how-do-i-render-a-component-inside-a-translation)\n\n---\n\n### How can I use my base translation as a fallback for other locales?\n\nWith the strong typesafety features, you'll know if a locale is missing a translation. But in rare cases you might want to use your base translation as a fallback for other locales.\n\nSee the [next FAQ entry](#i-have-two-similar-locales-only-a-few-translations-are-different-but-i-dont-want-to-duplicate-my-translations). The same concept can be applied to prefill your translations with the base translation and then just override the parts that are translated.\n\n> You'll loose the some sort of typesafety with that approach since you can't know which parts are translated and which are not. Using the base translation as a fallback is not recommended because your UI will contain two different locales which might confuse your users.\n\n### I have two similar locales (only a few translations are different) but I don't want to duplicate my translations\n\nYour locale translation files can be any kind of JavaScript object. So you can make object-transformations inside your translation file. The only restriction is: in the end it has to contain a default export with type `Translation`. You could do something like this:\n\n - create your `BaseTranslation`\n   ```typescript\n   // file 'src/i18n/en/index.ts'\n   import type { BaseTranslation } from '../i18n-types'\n\n   const en: BaseTranslation = {\n      WELCOME: \"Welcome to XYZ\",\n      // ... some other translations\n\n      COLOR: \"colour\"\n   }\n\n   export default en\n   ```\n\n - create your other translation that overrides specific translations\n   ```typescript\n   // file 'src/i18n/en-US/index.ts'\n   import type { Translation } from '../i18n-types'\n   import en from '../en' // import translations from 'en' locale\n\n   const en_US: Translation = {\n      ...en as Translation, // use destructuring to copy all translations from your 'en' locale\n\n      COLOR: \"color\" // override specific translations\n   }\n\n   export default en_US\n   ```\n\n   > If you are using nested translations, you should use the provided `extendDictionary` function that uses [`just-extend`](https://github.com/angus-c/just#just-extend) under the hood.\n   > ```ts\n   > import { extendDictionary } from '../i18n-utils'\n   > import en from '../en' // import translations from 'en' locale\n   >\n   > const en_US = extendDictionary(en, {\n   >    labels: {\n   >       color: \"color\" // override specific translations\n   >    }\n   > })\n   >\n   > export default en_US\n   > ```\n\n---\n### For certain locales I don't want to output a variable, but due to the strict typing I have to specify it in my translation\n\nThe generated types are really strict. It helps you from making unintentional mistakes. If you want to opt-out for certain translations, you can use the `any` keyword.\n\n - create your `BaseTranslation` with a translation containing a parameter\n   ```typescript\n   // file 'src/i18n/en/index.ts'\n   import type { BaseTranslation } from '../i18n-types'\n\n   const en: BaseTranslation = {\n      HELLO: \"Hi {name}!\",\n   }\n\n   export default en\n   ```\n\n - create another locale without that parameter by disabling the strict type checking with  `as any`\n   ```typescript\n   // file 'src/i18n/de/index.ts'\n   import type { Translation } from '../i18n-types'\n\n   const de: Translation = {\n      HELLO: \"Hallo!\" as any // we don't want to output the 'name' variable\n   }\n\n   export default de\n   ```\n\n> WARNING! the usage of 'any' can introduce unintentional mistakes in future. It should only be used when really necessary and you know what you are doing.\n\nA better approach would be to create a custom formatter e.g.\n\n - create your translation and add a formatter to your variable\n   ```typescript\n   // file 'src/i18n/en/index.ts'\n   import type { BaseTranslation } from '../i18n-types'\n\n   const en: BaseTranslation = {\n      HELLO: \"Hi {name|nameFormatter}!\",\n   }\n\n   export default en\n   ```\n\n   ```typescript\n   // file 'src/i18n/de/index.ts'\n   import type { Translation } from '../i18n-types'\n\n   const de: Translation = {\n      HELLO: \"Hallo {name|nameFormatter}!\"\n   }\n\n   export default de\n   ```\n\n - create the formatter based on the locale\n   ```typescript\n   // file 'src/i18n/formatters.ts'\n   import type { FormattersInitializer } from 'typesafe-i18n'\n   import type { Locales, Formatters } from './i18n-types'\n   import { identity, ignore } from 'typesafe-i18n/formatters'\n\n   export const initFormatters: FormattersInitializer<Locales, Formatters> = (locale: Locales)    => {\n\n      const nameFormatter =\n         locale === 'de'\n            // return an empty string for locale 'de'\n            ? ignore // same as: () => ''\n            // return the unmodified parameter\n            : identity // same as: (value) => value\n\n      const formatters: Formatters = {\n         nameFormatter: nameFormatter\n      }\n\n      return formatters\n   }\n   ```\n\n---\n### Why does the translation function return a type of `LocalizedString` and not the type `string` itself?\n\nWith the help of `LocalizedString` you could enforce texts in your application to be translated. Lets take an Error message as example:\n\n```typescript\nconst showErrorMessage(message: string) => alert(message)\n\nconst createUser = (name: string, password: string) => {\n   if (name.length === 0) {\n      showErrorMessage(LL.user.create.nameNotProvided())\n      return\n   }\n\n   if (isStrongPassword(password)) {\n      showErrorMessage('Password is too weak')\n      return\n   }\n\n   // ... create user in DB\n}\n```\n\nIn this example we can pass in any string, so it can also happen that some parts of your application are not translated. To improve your i18n experience a bit we can take advantage of the `LocalizedString` type:\n\n```typescript\nimport type { LocalizedString } from 'typesafe-i18n'\n\nconst showErrorMessage(message: LocalizedString) => alert(message)\n\nconst createUser = (name: string, password: string) => {\n   if (name.length === 0) {\n      showErrorMessage(LL.user.create.nameNotProvided())\n      return\n   }\n\n   if (isStrongPassword(password)) {\n      showErrorMessage('Password is too weak') // => ERROR: Argument of type 'string' is not assignable to parameter of type 'LocalizedString'.\n      return\n   }\n\n   // ... create user in DB\n}\n```\n\nWith the type `LocalizedString` you can restrict your functions to only translated strings.\n\n---\n\n### Tests are not running with `Jest`\n\nUnfortunately there are some open issues in the [`Jest`](https://jestjs.io/) repository regarding modern package export formats so `jest` doesn't know where to load files from.\n\nYou need to manually tell `jest` where these files should be loaded from, by defining [`moduleNameMapper`](https://jestjs.io/docs/configuration#modulenamemapper-objectstring-string--arraystring) inside your `jest.config.js`:\n\n```js\n// jest.config.js\nmodule.exports = {\n   moduleNameMapper: {\n      \"typesafe-i18n/angular\": \"typesafe-i18n/angular/index.cjs\",\n      \"typesafe-i18n/react\": \"typesafe-i18n/react/index.cjs\",\n      \"typesafe-i18n/solid\": \"typesafe-i18n/solid/index.cjs\",\n      \"typesafe-i18n/svelte\": \"typesafe-i18n/svelte/index.cjs\",\n      \"typesafe-i18n/vue\": \"typesafe-i18n/vue/index.cjs\",\n      \"typesafe-i18n/formatters\": \"typesafe-i18n/formatters/index.cjs\",\n      \"typesafe-i18n/detectors\": \"typesafe-i18n/detectors/index.cjs\",\n   }\n};\n```\n\n> here is the original issue with some additional information: [#140](https://github.com/ivanhofer/typesafe-i18n/issues/140)\n\n---\n\n### With Node.JS the `Intl` package does not work with locales other than 'en'\n\nNode.JS, by default, does not come with the full [`intl`](https://nodejs.org/api/intl.html) support. To reduce the size of the node installment it will only include 'en' as locale. You would need to add it yourself. The easiest way is to install the `intl` package\n\n```bash\n> npm install intl\n```\n\nand then add following lines on top of your `src/i18n/formatters.ts` file:\n\n```typescript\nconst intl = require('intl')\nintl.__disableRegExpRestore()\nglobalThis.Intl.DateTimeFormat = intl.DateTimeFormat\n```\n\nThen you should be able to use formatters from the `Intl` namespace with all locales.\n\n> Note: this is an older approach to the problem. You should not need this when using Node.js version > 16.\n\n<!-- TODO: check if this is now fixed in node version 16 -->\n\n---\n\n### \"Cannot find module\" in yarn monorepo setup\n\nYarn uses a strange way to install dependencies in a monorepo setup. The issue lays in the \"hoisting\" of packages (see [this issue](https://github.com/yarnpkg/yarn/issues/7572)). Therefore it might be that the `typesafe-i18n` dependencies cannot be found.\n\nChanging the workspace config in package.json will fix the issue:\n\n```diff\n-  \"workspaces\": [\n-    \"apps/*\",\n-    \"packages/*\"\n-  ],\n+  \"workspaces\": {\n+    \"packages\": [\n+      \"apps/*\",\n+      \"packages/*\"\n+    ],\n+    \"nohoist\": [\n+      \"**/typesafe-i18n\",\n+      \"**/typesafe-i18n/**\"\n+    ]\n+  },\n```\n",
	"legacy_svelte": false,
	"downloads_history": [
		[3596, 19374],
		[3603, 15971],
		[3610, 16121],
		[3617, 18927],
		[3624, 17220],
		[3631, 18253],
		[3638, 15029],
		[3645, 8481],
		[3652, 12413],
		[3659, 18380],
		[3666, 18518],
		[3673, 18587],
		[3680, 18373],
		[3687, 19735],
		[3694, 21325],
		[3701, 18806],
		[3708, 18699],
		[3715, 18871],
		[3722, 17129],
		[3729, 19048],
		[3736, 16880],
		[3743, 19257],
		[3750, 17638],
		[3757, 19088],
		[3764, 18652],
		[3771, 17427],
		[3778, 19142],
		[3785, 22720],
		[3792, 22778],
		[3799, 20302],
		[3806, 21933],
		[3813, 21267],
		[3820, 22208],
		[3827, 24668],
		[3834, 21649],
		[3841, 20947],
		[3848, 18693],
		[3855, 19137],
		[3862, 18545],
		[3869, 19428],
		[3876, 17681],
		[3883, 20411],
		[3890, 21311],
		[3897, 20031],
		[3904, 21788],
		[3911, 19960],
		[3918, 20417],
		[3925, 19114],
		[3932, 20033],
		[3939, 19350],
		[3946, 24777],
		[3953, 23413],
		[3960, 20197],
		[3967, 20658],
		[3974, 22489],
		[3981, 22478],
		[3988, 22804],
		[3995, 25117],
		[4002, 22594],
		[4009, 10823],
		[4016, 9828],
		[4023, 18164],
		[4030, 21459],
		[4037, 21423],
		[4044, 20638],
		[4051, 22334],
		[4058, 24094],
		[4065, 22739],
		[4072, 22583],
		[4079, 21521],
		[4086, 24821],
		[4093, 27219],
		[4100, 26414],
		[4107, 23040],
		[4114, 24232],
		[4121, 22630],
		[4128, 21623],
		[4135, 18753]
	]
}
