/*

!IMPORTANT: The tokens for light and dark mode are duplicated, if you change a token for dark mode,
!you should change that for the other dark mode too

*/

:root {
	color-scheme: light;

	--sk-back-h: 206;
	--sk-selection-color: hsla(204, 100%, 63%, 0.3);

	/* dimensions */
	--sk-nav-height: 6rem;
	--sk-secondary-nav-height: 5rem;
	--sk-page-padding-top: 6rem;
	--sk-page-padding-bottom: 8rem;
	--sk-page-padding-side: 1.6rem;
	--sk-thick-border-width: 0.3rem;
	--sk-border-radius: 0.4rem;
	--sk-page-content-width: 76rem;
	--sk-banner-height: 0px;
	--sk-pane-controls-height: 4.2rem;

	/* typography (prefer `font: --sk-font-{x}` over `font-family` and `font-size` rules */
	--sk-font-family-ui: 'Fira Sans', -apple-system, sans-serif;
	--sk-font-family-body: Georgia, serif;
	--sk-font-family-heading: 'DM Serif Display', Georgia, serif;
	--sk-font-family-mono: 'Fira Mono', monospace;

	--sk-font-size-h1: 3.6rem;
	--sk-font-size-h2: 3rem;
	--sk-font-size-h3: 2.4rem;
	--sk-font-size-body: 2rem;
	--sk-font-size-body-small: 1.8rem;
	--sk-font-size-ui-small: 1.3rem;
	--sk-font-size-ui-medium: 1.6rem;
	--sk-font-size-ui-large: 3rem;
	--sk-font-size-mono: 1.4rem;

	--sk-line-height-body: 1.7;

	--sk-font-h1: 500 var(--sk-font-size-h1) / 1.2 var(--sk-font-family-heading);
	--sk-font-h2: 500 var(--sk-font-size-h2) / 1.2 var(--sk-font-family-heading);
	--sk-font-h3: 500 var(--sk-font-size-h3) / 1.2 var(--sk-font-family-heading);
	--sk-font-body: 400 var(--sk-font-size-body) / var(--sk-line-height-body)
		var(--sk-font-family-body);
	--sk-font-body-small: 400 var(--sk-font-size-body-small) / var(--sk-line-height-body)
		var(--sk-font-family-body);
	--sk-font-ui-small: 400 var(--sk-font-size-ui-small) / 1.5 var(--sk-font-family-ui);
	--sk-font-ui-medium: 400 var(--sk-font-size-ui-medium) / 1.5 var(--sk-font-family-ui);
	--sk-font-ui-large: 400 var(--sk-font-size-ui-large) / 1.5 var(--sk-font-family-ui);
	--sk-font-mono: 400 var(--sk-font-size-mono) / 1.7 var(--sk-font-family-mono);

	/* Base colors */
	--sk-theme-1-hsl: 12, 93%, 43%;

	--sk-theme-1: hsl(var(--sk-theme-1-hsl));

	--sk-back-1: hsl(0, 0%, 100%);
	--sk-back-2: hsl(0, 0%, 100%);
	--sk-back-3: hsl(0, 0%, 99%);
	--sk-back-4: hsl(0, 0%, 95%);
	--sk-back-5: hsl(0, 0%, 92%);
	--sk-back-6: hsl(0, 0%, 86%);

	--sk-text-1: hsl(0, 0%, 5%);
	--sk-text-2: hsl(0, 0%, 12%);
	--sk-text-3: hsl(0, 0%, 27%);
	--sk-text-4: hsl(0, 0%, 45%);
	--sk-scrollbar: rgba(0, 0, 0, 0.3);
	--sk-shadow: drop-shadow(0px 0px 14px rgba(0, 0, 0, 0.1));

	/* same in light mode, different in dark mode */
	--sk-theme-1-variant: var(--sk-theme-1);

	--sk-code-base: var(--sk-text-2);
	--sk-code-comment: var(--sk-text-4);
	--sk-code-keyword: hsl(204, 100%, 38%);
	--sk-code-function: var(--sk-theme-1);
	--sk-code-string: hsl(30, 100%, 30%);
	--sk-code-number: hsl(120, 100%, 25%);
	--sk-code-template-string: hsl(2, 80%, 47%);
	--sk-code-tags: var(--sk-code-function);
	--sk-code-important: var(--sk-code-string);
	--sk-code-diff-base: hsla(0, 0%, 0%, 0.6);
	--sk-code-diff-inserted: hsl(120, 100%, 25%);
	--sk-code-diff-removed: hsl(2, 80%, 47%);

	--shiki-color-text: var(--sk-code-base);
	--shiki-token-constant: var(--sk-code-base);
	--shiki-token-string: var(--sk-code-string);
	--shiki-token-comment: var(--sk-code-comment);
	--shiki-token-keyword: var(--sk-code-keyword);
	--shiki-token-parameter: var(--sk-code-base);
	--shiki-token-function: var(--sk-code-function);
	--shiki-token-string-expression: var(--sk-code-string);
	--shiki-token-punctuation: var(--sk-code-base);
	--shiki-token-link: var(--sk-code-keyword);

	--sk-text-warning-hsl: 32, 95%, 44%;
	--sk-text-warning: hsl(var(--sk-text-warning-hsl));

	/* used for coloured backgrounds e.g. blockquotes */
	--sk-back-translucent: hsla(0, 0%, 0%, 0.1);
	--sk-text-translucent: hsla(0, 0%, 0%, 0.7);

	/* overrides */
	--shiki-color-background: var(--sk-back-2);

	/* raised buttons */
	--sk-raised-color: var(--sk-back-4) var(--sk-back-5) var(--sk-back-5) var(--sk-back-4);
	--sk-raised-width: 1px 2px 2px 1px;
	--sk-raised-hover-color: var(--sk-back-5) var(--sk-back-6) var(--sk-back-6) var(--sk-back-5);
	--sk-raised-active-color: var(--sk-back-6) var(--sk-back-5) var(--sk-back-5) var(--sk-back-6);
	--sk-raised-active-width: 2px 1px 1px 2px;

	/* this is necessary for elements with filters on safari, because safari is a uniquely awful piece of software.
	   the 0.01 prevents Vite from optimising it to `translate(0, 0)`, which doesn't fix anything */
	--safari-fix: translate3d(0, 0, 0.01);

	/* set at 1.75x so if you zoom +/-10% from common settings it won't switch your font */
	@media (min-resolution: 1.75x) {
		--sk-font-family-body: 'EB Garamond', Georgia, serif;
		--sk-font-size-body: 2.2rem;
		--sk-font-size-body-small: 2rem;
		--sk-line-height-body: 1.5;
	}

	&.dark {
		color-scheme: dark;
		-webkit-font-smoothing: antialiased;

		--sk-back-hue: 220;

		--sk-back-1: hsl(var(--sk-back-hue), 15%, 8%);
		--sk-back-2: hsl(var(--sk-back-hue), 15%, 15%);
		--sk-back-3: hsl(var(--sk-back-hue), 15%, 12%);
		--sk-back-4: hsl(var(--sk-back-hue), 15%, 22%);
		--sk-back-5: hsl(var(--sk-back-hue), 15%, 25%);
		--sk-back-6: hsl(var(--sk-back-hue), 15%, 32%);
		--sk-back-translucent: hsla(0, 0%, 100%, 0.1);
		--sk-theme-1-hsl: 12, 94%, 62%;
		--sk-text-1: hsl(var(--sk-back-hue), 10%, 90%);
		--sk-text-2: hsl(var(--sk-back-hue), 10%, 80%);
		--sk-text-3: hsl(var(--sk-back-hue), 10%, 65%);
		--sk-text-4: hsl(var(--sk-back-hue), 10%, 45%);
		--sk-text-translucent: hsla(0, 0%, 100%, 0.9);
		--sk-scrollbar: rgba(255, 255, 255, 0.3);
		--sk-shadow: drop-shadow(1px 2px 16px rgba(0, 0, 0, 0.5));

		--sk-theme-1-variant: hsl(15, 100%, 35%);

		--sk-text-warning-hsl: 32, 67%, 56%;

		--sk-code-base: hsl(45, 7%, 75%);
		--sk-code-comment: hsl(0, 0%, 55%);
		--sk-code-keyword: hsl(204, 88%, 65%);
		--sk-code-function: hsl(19, 67%, 75%);
		--sk-code-string: hsl(41, 37%, 68%);
		--sk-code-number: hsl(120, 100%, 25%);
		--sk-code-template-string: hsl(2, 80%, 47%);
		--sk-code-tags: var(--sk-code-function);
		--sk-code-important: var(--sk-code-string);

		--sk-code-diff-base: hsla(0, 0%, 100%, 0.5);
		--sk-code-diff-inserted: hsl(120, 46%, 48%);
		--sk-code-diff-removed: hsl(2, 64%, 70%);

		/* overrides */
		--shiki-color-background: var(--sk-back-3);

		/* raised buttons */
		--sk-raised-color: var(--sk-back-5) var(--sk-back-3) var(--sk-back-3) var(--sk-back-5);
		--sk-raised-hover-color: var(--sk-back-6) var(--sk-back-3) var(--sk-back-3) var(--sk-back-6);
		--sk-raised-active-color: var(--sk-back-3) var(--sk-back-6) var(--sk-back-6) var(--sk-back-3);
	}

	&.font-boring {
		--sk-font-family-body: 'Atkinson Hyperlegible', sans-serif;
		--sk-font-size-body: 2rem;
		--sk-font-size-body-small: 1.8rem;

		p code {
			font-size: 0.75em;
		}
	}
}

@media screen and (min-width: 480px) {
	:root {
		--sk-page-padding-side: 3.2rem;
	}
}

@media screen and (min-width: 800px) {
	:root {
		--sk-font-size-h1: 5.4rem;
		--sk-page-padding-top: 8rem;
		--sk-page-padding-side: 4.8rem;
		--sk-secondary-nav-height: 6rem;
	}
}
